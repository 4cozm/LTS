#.git/hook 에 넣어주세요

# 변경된 C# 파일 목록 추출
FILES=$(git diff --cached --name-only --diff-filter=ACM | grep '\.cs$')

if [ -z "$FILES" ]; then
  echo "변경된 C# 파일이 없습니다. 포맷 스킵."
  exit 0
fi

echo "다음 파일 포맷 중:"
echo "$FILES"

# 변경된 파일만 dotnet format 대상으로 포맷
for file in $FILES; do
  dotnet format "$file" --include "$file" --folder --verbosity quiet
done

# 다시 git add
git add $FILES
